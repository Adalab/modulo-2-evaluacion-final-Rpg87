"use strict";const listCharacters=document.querySelector(".js_characters"),btnSearch=document.querySelector(".form_btn"),inputSearch=document.querySelector(".js-input"),favoritesList=document.querySelector(".js_favoritesList");let charactersApi=[],userSearch=[],favoritesCharacters=[];function renderListCharacters(e){return`<li  class="listCharacters js_liCard" id="${e.char_id}">\n<article>\n    <img class="listCharacters__img" src="${e.img}" alt="${e.name}">\n    <h3 class="listCharacters__name">${e.name}</h3>\n    <h4 class="listCharacters__status">${e.status}</h4>\n</article>\n</li>`}function renderCharacters(e){listCharacters.innerHTML="";for(const r of e)listCharacters.innerHTML+=renderListCharacters(r);addCharFavorites()}function handleClickSearch(e){e.preventDefault();const r=inputSearch.value;fetch("https://breakingbadapi.com/api/characters?name="+r).then(e=>e.json()).then(e=>{userSearch=e,renderCharacters(userSearch),console.log(userSearch)})}function addCharFavorites(){const e=document.querySelectorAll(".js_liCard");for(let r=0;r<e.length;r++)e[r].addEventListener("click",handleClickFavorite)}function renderFavoritesChar(){let e="";for(let r=0;r<favoritesCharacters.length;r++)e+=renderListCharacters(favoritesCharacters[r]);favoritesList.innerHTML=e}function handleClickFavorite(e){e.currentTarget.classList.toggle("selected");const r=parseInt(e.currentTarget.id),a=charactersApi.find(e=>e.char_id===r),t=favoritesCharacters.findIndex(e=>e.char_id===r);-1===t?favoritesCharacters.push(a):favoritesCharacters.splice(t,1),localStorage.setItem("storageFavorites",JSON.stringify(favoritesCharacters)),renderFavoritesChar()}fetch("https://breakingbadapi.com/api/characters").then(e=>e.json()).then(e=>{charactersApi=e,renderCharacters(charactersApi)});const savedFavorites=JSON.parse(localStorage.getItem("storageFavorites"));console.log(savedFavorites),null!==savedFavorites&&(favoritesCharacters=savedFavorites,renderFavoritesChar()),btnSearch.addEventListener("click",handleClickSearch);